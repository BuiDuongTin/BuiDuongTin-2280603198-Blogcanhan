<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tạo ứng dụng real-time với WebSocket và Node.js - Bùi Dương Tin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="container">
            <div class="logo">
                <a href="../index.html">BDT<span>Code</span></a>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="../index.html">Trang chủ</a></li>
                    <li><a href="../blog.html" class="active">Blog</a></li>
                </ul>
                <div class="hamburger">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Post Header -->
    <section class="post-header">
        <div class="container">
            <h1>Tạo ứng dụng real-time với WebSocket và Node.js</h1>
            <div class="post-meta">
                <span><i class="far fa-calendar"></i> 20/09/2025</span>
                <span><i class="far fa-clock"></i> 15 phút đọc</span>
                <span><i class="far fa-folder"></i> JavaScript, Lập trình mạng</span>
            </div>
        </div>
    </section>

    <!-- Post Content -->
    <section class="post-content">
        <div class="container">
            <div class="post-image">
                <img src="../images/post-5.jpg" alt="WebSocket và Node.js">
            </div>
            
            <div class="content">
                <h2>Giới thiệu về WebSocket và ứng dụng real-time</h2>
                <p>
                    Trong thế giới web hiện đại, người dùng ngày càng đòi hỏi các ứng dụng phải phản hồi nhanh và cung cấp 
                    trải nghiệm real-time. Từ các ứng dụng chat trực tuyến, bảng điều khiển theo dõi dữ liệu đến các trò chơi 
                    multiplayer, tất cả đều yêu cầu công nghệ cho phép trao đổi dữ liệu nhanh chóng giữa client và server.
                </p>
                
                <p>
                    WebSocket là một giao thức cung cấp kênh giao tiếp hai chiều full-duplex qua một kết nối TCP duy nhất. 
                    Kết hợp với Node.js - một JavaScript runtime mạnh mẽ cho server-side, chúng ta có thể xây dựng các ứng 
                    dụng real-time hiệu quả và dễ dàng mở rộng.
                </p>

                <h2>WebSocket vs. HTTP truyền thống</h2>
                <p>
                    Trước khi có WebSocket, các ứng dụng web sử dụng các kỹ thuật như polling, long-polling, hoặc 
                    Server-Sent Events để mô phỏng giao tiếp real-time:
                </p>
                
                <table border="1" style="width:100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background-color: #f8f9fa;">
                        <th style="padding: 10px; text-align: left;">Kỹ thuật</th>
                        <th style="padding: 10px; text-align: left;">Mô tả</th>
                        <th style="padding: 10px; text-align: left;">Nhược điểm</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Polling</td>
                        <td style="padding: 10px;">Client gửi yêu cầu định kỳ để kiểm tra dữ liệu mới</td>
                        <td style="padding: 10px;">Tạo nhiều HTTP request không cần thiết, tốn băng thông</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Long-polling</td>
                        <td style="padding: 10px;">Server giữ kết nối mở cho đến khi có dữ liệu mới</td>
                        <td style="padding: 10px;">Kết nối thường xuyên bị ngắt, cần thiết lập lại</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Server-Sent Events (SSE)</td>
                        <td style="padding: 10px;">Cho phép server đẩy dữ liệu đến client</td>
                        <td style="padding: 10px;">Chỉ hỗ trợ giao tiếp một chiều từ server đến client</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">WebSocket</td>
                        <td style="padding: 10px;">Kênh giao tiếp hai chiều full-duplex</td>
                        <td style="padding: 10px;">Cần server hỗ trợ WebSocket, không hoạt động với một số proxy cũ</td>
                    </tr>
                </table>
                
                <p>
                    WebSocket vượt trội so với các phương pháp truyền thống với các ưu điểm:
                </p>
                <ul>
                    <li>Kết nối liên tục: Không cần thiết lập lại kết nối TCP cho mỗi lần truyền dữ liệu</li>
                    <li>Độ trễ thấp: Dữ liệu có thể được gửi ngay lập tức khi có sẵn</li>
                    <li>Giao tiếp hai chiều: Client và server có thể gửi dữ liệu bất kỳ lúc nào</li>
                    <li>Header nhẹ: Giảm đáng kể overhead so với HTTP headers</li>
                </ul>
                
                <h2>Cài đặt môi trường phát triển</h2>
                <h3>Yêu cầu</h3>
                <p>
                    Để bắt đầu, bạn cần có:
                </p>
                <ul>
                    <li>Node.js và npm (https://nodejs.org/)</li>
                    <li>Trình soạn thảo code (VS Code được khuyến nghị)</li>
                    <li>Trình duyệt web hiện đại</li>
                </ul>
                
                <h3>Khởi tạo dự án Node.js</h3>
                <pre><code class="language-bash">
# Tạo thư mục dự án
mkdir chat-app
cd chat-app

# Khởi tạo dự án npm
npm init -y

# Cài đặt các dependency
npm install express socket.io
                </code></pre>
                
                <h2>Xây dựng WebSocket server với Node.js và Socket.io</h2>
                <p>
                    Socket.io là một thư viện JavaScript cho phép giao tiếp real-time giữa web clients và server. 
                    Socket.io bao gồm:
                </p>
                <ul>
                    <li>Server chạy trên Node.js</li>
                    <li>Client-side library chạy trên trình duyệt</li>
                </ul>
                
                <p>
                    Hãy bắt đầu bằng việc tạo một server đơn giản với Express và Socket.io:
                </p>
                
                <pre><code class="language-javascript">
// server.js
const express = require('express');
const http = require('http');
const socketIo = require('socket.io');
const path = require('path');

// Khởi tạo ứng dụng Express
const app = express();
const server = http.createServer(app);
const io = socketIo(server);

// Phục vụ các file tĩnh từ thư mục public
app.use(express.static(path.join(__dirname, 'public')));

// Route mặc định
app.get('/', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'index.html'));
});

// Xử lý kết nối WebSocket
io.on('connection', (socket) => {
    console.log('Một người dùng đã kết nối:', socket.id);
    
    // Gửi thông báo cho người dùng mới kết nối
    socket.emit('welcome', 'Chào mừng bạn đến với ứng dụng chat!');
    
    // Thông báo cho mọi người (trừ người kết nối) rằng có người mới
    socket.broadcast.emit('userJoined', 'Một người dùng mới đã tham gia');
    
    // Xử lý tin nhắn chat
    socket.on('chatMessage', (message) => {
        console.log('Tin nhắn mới:', message);
        
        // Gửi tin nhắn đến tất cả client, bao gồm cả người gửi
        io.emit('chatMessage', {
            userId: socket.id,
            text: message,
            timestamp: new Date().toISOString()
        });
    });
    
    // Xử lý ngắt kết nối
    socket.on('disconnect', () => {
        console.log('Người dùng đã ngắt kết nối:', socket.id);
        io.emit('userLeft', 'Một người dùng đã rời đi');
    });
});

// Khởi động server
const PORT = process.env.PORT || 3000;
server.listen(PORT, () => {
    console.log(`Server đang chạy trên port ${PORT}`);
});
                </code></pre>
                
                <h2>Xây dựng giao diện client với HTML, CSS và JavaScript</h2>
                <p>
                    Tiếp theo, chúng ta sẽ tạo giao diện người dùng cho ứng dụng chat. Tạo thư mục <code>public</code> 
                    và các file cần thiết:
                </p>
                
                <h3>File HTML (public/index.html)</h3>
                <pre><code class="language-html">
&lt;!DOCTYPE html&gt;
&lt;html lang="vi"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Ứng dụng Chat Real-time&lt;/title&gt;
    &lt;link rel="stylesheet" href="styles.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="chat-container"&gt;
        &lt;header class="chat-header"&gt;
            &lt;h1&gt;Chat Real-time&lt;/h1&gt;
            &lt;div id="user-status"&gt;Đang kết nối...&lt;/div&gt;
        &lt;/header&gt;
        
        &lt;div class="chat-messages" id="messages"&gt;&lt;/div&gt;
        
        &lt;div class="chat-input"&gt;
            &lt;form id="chat-form"&gt;
                &lt;input 
                    type="text" 
                    id="message-input" 
                    placeholder="Nhập tin nhắn..." 
                    autocomplete="off"
                    required
                /&gt;
                &lt;button type="submit"&gt;Gửi&lt;/button&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;script src="/socket.io/socket.io.js"&gt;&lt;/script&gt;
    &lt;script src="client.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
                </code></pre>
                
                <h3>CSS Styles (public/styles.css)</h3>
                <pre><code class="language-css">
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #f5f5f5;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.chat-container {
    width: 100%;
    max-width: 600px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 80vh;
}

.chat-header {
    background: #2c3e50;
    color: #fff;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chat-header h1 {
    font-size: 20px;
    font-weight: 500;
}

#user-status {
    font-size: 14px;
    background: rgba(255, 255, 255, 0.2);
    padding: 5px 10px;
    border-radius: 15px;
}

.chat-messages {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
}

.message {
    padding: 10px 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    position: relative;
    max-width: 80%;
    word-wrap: break-word;
}

.message.incoming {
    background-color: #f1f0f0;
    align-self: flex-start;
    margin-right: auto;
}

.message.outgoing {
    background-color: #3498db;
    color: white;
    align-self: flex-end;
    margin-left: auto;
}

.message .meta {
    font-size: 12px;
    margin-top: 5px;
    opacity: 0.7;
}

.chat-input {
    padding: 15px;
    background: #f9f9f9;
}

#chat-form {
    display: flex;
    gap: 10px;
}

#message-input {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    outline: none;
}

#chat-form button {
    padding: 10px 20px;
    background: #2c3e50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s ease;
}

#chat-form button:hover {
    background: #1a252f;
}

.notification {
    text-align: center;
    padding: 5px 10px;
    margin: 10px 0;
    background: rgba(0, 0, 0, 0.05);
    border-radius: 5px;
    font-size: 14px;
    color: #666;
}
                </code></pre>
                
                <h3>JavaScript Client (public/client.js)</h3>
                <pre><code class="language-javascript">
// Kết nối đến server WebSocket
const socket = io();

// DOM Elements
const chatForm = document.getElementById('chat-form');
const messageInput = document.getElementById('message-input');
const messagesContainer = document.getElementById('messages');
const userStatus = document.getElementById('user-status');

// Lưu ID của socket hiện tại để phân biệt tin nhắn
let currentSocketId = '';

// Xử lý sự kiện kết nối
socket.on('connect', () => {
    currentSocketId = socket.id;
    userStatus.textContent = 'Đã kết nối';
    userStatus.style.backgroundColor = 'rgba(46, 204, 113, 0.3)';
});

// Xử lý sự kiện mất kết nối
socket.on('disconnect', () => {
    userStatus.textContent = 'Mất kết nối';
    userStatus.style.backgroundColor = 'rgba(231, 76, 60, 0.3)';
    
    // Hiển thị thông báo mất kết nối
    addNotification('Mất kết nối với server, đang thử kết nối lại...');
});

// Xử lý sự kiện chào mừng
socket.on('welcome', (message) => {
    addNotification(message);
});

// Xử lý sự kiện có người tham gia
socket.on('userJoined', (message) => {
    addNotification(message);
});

// Xử lý sự kiện có người rời đi
socket.on('userLeft', (message) => {
    addNotification(message);
});

// Xử lý tin nhắn chat đến
socket.on('chatMessage', (message) => {
    // Kiểm tra xem tin nhắn từ người dùng hiện tại hay người khác
    const isOutgoing = message.userId === currentSocketId;
    addMessage(message, isOutgoing);
});

// Xử lý gửi tin nhắn
chatForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const message = messageInput.value.trim();
    if (!message) return;
    
    // Gửi tin nhắn đến server
    socket.emit('chatMessage', message);
    
    // Reset input
    messageInput.value = '';
    messageInput.focus();
});

// Thêm tin nhắn vào container
function addMessage(message, isOutgoing) {
    const messageElement = document.createElement('div');
    messageElement.classList.add('message');
    messageElement.classList.add(isOutgoing ? 'outgoing' : 'incoming');
    
    // Format timestamp
    const timestamp = new Date(message.timestamp).toLocaleTimeString();
    
    messageElement.innerHTML = `
        <div class="message-content">${message.text}</div>
        <div class="meta">${isOutgoing ? 'Bạn' : 'Người khác'} • ${timestamp}</div>
    `;
    
    // Thêm tin nhắn vào container
    messagesContainer.appendChild(messageElement);
    
    // Cuộn xuống tin nhắn mới nhất
    scrollToBottom();
}

// Thêm thông báo vào container
function addNotification(message) {
    const notificationElement = document.createElement('div');
    notificationElement.classList.add('notification');
    notificationElement.textContent = message;
    
    // Thêm thông báo vào container
    messagesContainer.appendChild(notificationElement);
    
    // Cuộn xuống thông báo mới nhất
    scrollToBottom();
}

// Cuộn xuống tin nhắn mới nhất
function scrollToBottom() {
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
}
                </code></pre>
                
                <h2>Phân phòng chat và quản lý người dùng</h2>
                <p>
                    Trong các ứng dụng chat thực tế, chúng ta thường cần phân chia người dùng vào các phòng chat khác nhau. 
                    Socket.io cung cấp khái niệm "rooms" để giúp chúng ta làm điều này một cách dễ dàng.
                </p>
                
                <pre><code class="language-javascript">
// Ví dụ server với phân phòng chat
io.on('connection', (socket) => {
    // Xử lý tham gia phòng
    socket.on('joinRoom', ({ username, room }) => {
        // Thêm user vào phòng được chọn
        socket.join(room);
        
        // Chào mừng người dùng mới
        socket.emit('message', {
            user: 'ChatBot',
            text: `${username}, chào mừng bạn đến phòng ${room}!`
        });
        
        // Thông báo cho mọi người trong phòng về người dùng mới
        socket.to(room).emit('message', {
            user: 'ChatBot',
            text: `${username} đã tham gia phòng!`
        });
        
        // Lưu thông tin người dùng
        const user = { id: socket.id, username, room };
        // ... (lưu vào database hoặc bộ nhớ)
        
        // Gửi danh sách người dùng trong phòng
        io.to(room).emit('roomUsers', {
            room: room,
            users: getUsersInRoom(room) // Hàm lấy danh sách người dùng trong phòng
        });
    });
    
    // Xử lý tin nhắn trong phòng
    socket.on('chatMessage', (message) => {
        const user = getCurrentUser(socket.id); // Hàm lấy thông tin người dùng hiện tại
        
        if (user) {
            io.to(user.room).emit('message', {
                user: user.username,
                text: message,
                timestamp: new Date().toISOString()
            });
        }
    });
    
    // Xử lý ngắt kết nối
    socket.on('disconnect', () => {
        const user = removeUser(socket.id); // Hàm xóa và trả về thông tin người dùng
        
        if (user) {
            io.to(user.room).emit('message', {
                user: 'ChatBot',
                text: `${user.username} đã rời phòng`
            });
            
            // Cập nhật danh sách người dùng
            io.to(user.room).emit('roomUsers', {
                room: user.room,
                users: getUsersInRoom(user.room)
            });
        }
    });
});
                </code></pre>
                
                <h2>Xử lý lỗi và tái kết nối</h2>
                <p>
                    Một trong những thách thức lớn của ứng dụng real-time là xử lý mất kết nối. Socket.io cung cấp sẵn cơ chế 
                    tự động tái kết nối, nhưng chúng ta cũng nên xử lý tốt trên phía client:
                </p>
                
                <pre><code class="language-javascript">
// Cấu hình tái kết nối ở client
const socket = io({
    reconnection: true,
    reconnectionAttempts: Infinity,
    reconnectionDelay: 1000,
    reconnectionDelayMax: 5000,
    timeout: 20000
});

// Xử lý các sự kiện kết nối
socket.on('reconnect_attempt', (attemptNumber) => {
    console.log(`Đang thử kết nối lại lần ${attemptNumber}...`);
    addNotification(`Đang thử kết nối lại (${attemptNumber})...`);
});

socket.on('reconnect', (attemptNumber) => {
    console.log(`Đã kết nối lại sau ${attemptNumber} lần thử`);
    userStatus.textContent = 'Đã kết nối';
    userStatus.style.backgroundColor = 'rgba(46, 204, 113, 0.3)';
    addNotification('Đã kết nối lại với server!');
});

socket.on('reconnect_error', (error) => {
    console.error('Lỗi kết nối lại:', error);
    addNotification('Kết nối lại thất bại. Đang thử lại...');
});

socket.on('error', (error) => {
    console.error('Lỗi Socket.IO:', error);
});
                </code></pre>
                
                <h2>Tối ưu hiệu suất</h2>
                <p>
                    Khi xây dựng ứng dụng real-time có nhiều người dùng, hiệu suất là yếu tố quan trọng. Dưới đây là một số 
                    kỹ thuật tối ưu:
                </p>
                
                <h3>1. Giảm thiểu dữ liệu truyền tải</h3>
                <p>
                    Thay vì gửi toàn bộ đối tượng, chỉ gửi những dữ liệu cần thiết:
                </p>
                <pre><code class="language-javascript">
// Thay vì
socket.emit('userUpdate', user);

// Chỉ gửi những trường cần thiết
socket.emit('userUpdate', {
    id: user.id,
    status: user.status,
    lastActive: user.lastActive
});
                </code></pre>
                
                <h3>2. Sử dụng Binary Data khi cần</h3>
                <p>
                    Socket.io hỗ trợ gửi dữ liệu nhị phân (binary data) như ArrayBuffer, Buffer hoặc Blob. 
                    Đây là cách hiệu quả để gửi dữ liệu lớn như hình ảnh:
                </p>
                <pre><code class="language-javascript">
// Server
io.on('connection', (socket) => {
    socket.on('binaryData', (buffer) => {
        // Xử lý buffer
        socket.broadcast.emit('binaryData', buffer);
    });
});

// Client
socket.emit('binaryData', new Uint8Array([1, 2, 3, 4]));
                </code></pre>
                
                <h3>3. Phân mảnh dữ liệu lớn</h3>
                <p>
                    Với dữ liệu lớn, bạn nên chia nhỏ và gửi từng phần để tránh nghẽn:
                </p>
                <pre><code class="language-javascript">
// Phân mảnh dữ liệu
function sendLargeData(data, chunkSize = 1024) {
    const chunks = [];
    for (let i = 0; i < data.length; i += chunkSize) {
        chunks.push(data.slice(i, i + chunkSize));
    }
    
    // Gửi metadata trước
    socket.emit('beginLargeData', {
        total: chunks.length,
        size: data.length,
        type: data.type
    });
    
    // Gửi từng phần
    chunks.forEach((chunk, index) => {
        socket.emit('dataChunk', {
            index: index,
            data: chunk
        });
    });
    
    // Kết thúc
    socket.emit('endLargeData');
}
                </code></pre>
                
                <h2>Bảo mật ứng dụng WebSocket</h2>
                <p>
                    Bảo mật là yếu tố quan trọng trong mọi ứng dụng web. Với WebSocket, chúng ta cần chú ý một số điểm sau:
                </p>
                
                <h3>1. Xác thực người dùng</h3>
                <pre><code class="language-javascript">
// Server-side authentication middleware
io.use((socket, next) => {
    // Lấy token từ query parameters
    const token = socket.handshake.query.token;
    
    if (isValidToken(token)) {
        // Lưu thông tin user vào socket
        const user = getUserFromToken(token);
        socket.user = user;
        return next();
    }
    
    return next(new Error('Authentication error'));
});

function isValidToken(token) {
    // Kiểm tra token (ví dụ với JWT)
    try {
        // Verify JWT token
        const decoded = jwt.verify(token, 'your_secret_key');
        return true;
    } catch (error) {
        return false;
    }
}
                </code></pre>
                
                <h3>2. Xác thực quyền truy cập vào room</h3>
                <pre><code class="language-javascript">
socket.on('joinRoom', ({ roomId }) => {
    // Kiểm tra quyền truy cập vào phòng
    if (hasAccess(socket.user, roomId)) {
        socket.join(roomId);
        // ...
    } else {
        socket.emit('error', {
            message: 'Bạn không có quyền truy cập vào phòng này'
        });
    }
});
                </code></pre>
                
                <h3>3. Xác thực và lọc dữ liệu đầu vào</h3>
                <pre><code class="language-javascript">
socket.on('chatMessage', (message) => {
    // Lọc và kiểm tra dữ liệu đầu vào
    if (typeof message !== 'string' || message.length > 1000) {
        socket.emit('error', {
            message: 'Tin nhắn không hợp lệ'
        });
        return;
    }
    
    // Loại bỏ các ký tự nguy hiểm
    const sanitizedMessage = sanitizeHtml(message);
    
    // Xử lý tin nhắn
    // ...
});
                </code></pre>
                
                <h2>Triển khai ứng dụng</h2>
                <p>
                    Khi ứng dụng WebSocket của bạn đã sẵn sàng, bạn có thể triển khai nó trên các dịch vụ hosting hỗ trợ WebSocket như:
                </p>
                <ul>
                    <li>Heroku</li>
                    <li>DigitalOcean</li>
                    <li>AWS (EC2 hoặc Elastic Beanstalk)</li>
                    <li>Google Cloud Platform</li>
                    <li>Microsoft Azure</li>
                </ul>
                
                <p>
                    Khi triển khai, cần lưu ý:
                </p>
                <ul>
                    <li>Đảm bảo môi trường hosting hỗ trợ WebSocket</li>
                    <li>Cấu hình proxy (nginx, Apache) để chuyển tiếp kết nối WebSocket</li>
                    <li>Xử lý mở rộng ngang (horizontal scaling) với Redis hoặc MongoDB</li>
                    <li>Thiết lập monitoring để theo dõi hiệu suất và phát hiện lỗi</li>
                </ul>
                
                <h2>Kết luận</h2>
                <p>
                    WebSocket kết hợp với Node.js mang đến giải pháp mạnh mẽ để xây dựng các ứng dụng real-time với độ trễ thấp. 
                    Socket.io giúp đơn giản hóa việc triển khai WebSocket với các tính năng phụ trợ như tự động tái kết nối, phân phòng 
                    và hỗ trợ fallback cho các trình duyệt cũ.
                </p>
                
                <p>
                    Trong bài viết này, chúng ta đã khám phá:
                </p>
                <ul>
                    <li>Cơ bản về WebSocket và so sánh với HTTP truyền thống</li>
                    <li>Cách xây dựng server WebSocket với Node.js và Socket.io</li>
                    <li>Phát triển ứng dụng chat real-time đơn giản</li>
                    <li>Phân phòng và quản lý người dùng</li>
                    <li>Xử lý lỗi và tối ưu hiệu suất</li>
                    <li>Bảo mật ứng dụng WebSocket</li>
                </ul>
                
                <p>
                    Với những kiến thức này, bạn có thể bắt đầu xây dựng các ứng dụng real-time phức tạp hơn như hệ thống chat, 
                    game multiplayer, ứng dụng cộng tác thời gian thực, hay bảng điều khiển dữ liệu trực tiếp.
                </p>
                
                <div class="post-tags">
                    <span>#JavaScript</span>
                    <span>#NodeJS</span>
                    <span>#WebSockets</span>
                    <span>#SocketIO</span>
                    <span>#RealTime</span>
                </div>
                
                <div class="post-navigation">
                    <a href="post-4.html" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Bài trước</a>
                    <a href="post-6.html" class="btn btn-primary">Bài tiếp theo <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
            
            <div class="author-section">
                <div class="author-avatar">
                    <img src="../images/profile.jpg" alt="Bùi Dương Tin">
                </div>
                <div class="author-info">
                    <h3>Bùi Dương Tin</h3>
                    <p>Lập trình viên với hơn 5 năm kinh nghiệm phát triển ứng dụng Java và JavaScript. Chuyên sâu về lập trình mạng và các công nghệ web hiện đại.</p>
                    <div class="social">
                        <a href="#" target="_blank"><i class="fab fa-github"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Posts -->
    <section class="related-posts">
        <div class="container">
            <h2>Bài viết liên quan</h2>
            <div class="posts-grid">
                <div class="post-card">
                    <div class="post-img">
                        <img src="../images/post-2.jpg" alt="JavaScript Asynchronous">
                        <div class="post-category">JavaScript</div>
                    </div>
                    <div class="post-content">
                        <h3><a href="post-2.html">Lập trình bất đồng bộ trong JavaScript với Promise và Async/Await</a></h3>
                        <div class="post-meta">
                            <span><i class="far fa-calendar"></i> 10/10/2025</span>
                            <span><i class="far fa-clock"></i> 12 phút đọc</span>
                        </div>
                        <p>Giải thích chi tiết về cách hoạt động của Promise, Async/Await và cách xử lý các tác vụ bất đồng bộ trong JavaScript...</p>
                        <a href="post-2.html" class="read-more">Đọc tiếp <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <div class="post-card">
                    <div class="post-img">
                        <img src="../images/post-9.jpg" alt="JavaScript Performance">
                        <div class="post-category">JavaScript</div>
                    </div>
                    <div class="post-content">
                        <h3><a href="post-9.html">Tối ưu hóa hiệu suất JavaScript trong ứng dụng web</a></h3>
                        <div class="post-meta">
                            <span><i class="far fa-calendar"></i> 20/08/2025</span>
                            <span><i class="far fa-clock"></i> 19 phút đọc</span>
                        </div>
                        <p>Các kỹ thuật tối ưu hóa hiệu suất JavaScript, giảm thiểu tải trang, lazy loading, memoization và các công cụ đo lường hiệu suất...</p>
                        <a href="post-9.html" class="read-more">Đọc tiếp <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <a href="../index.html">BDT<span>Code</span></a>
                    <p>Blog chia sẻ kiến thức lập trình Java và JavaScript, hướng dẫn phát triển ứng dụng mạng.</p>
                </div>
                <div class="footer-links">
                    <h3>Liên kết nhanh</h3>
                    <ul>
                        <li><a href="../index.html">Trang chủ</a></li>
                        <li><a href="../blog.html">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Liên hệ</h3>
                    <p><i class="fas fa-envelope"></i> info@buiduongtin.com</p>
                    <p><i class="fas fa-phone"></i> +84 123 456 789</p>
                    <div class="social">
                        <a href="#" target="_blank"><i class="fab fa-github"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-facebook"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Bùi Dương Tin. Tất cả các quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="../js/main.js"></script>
</body>
</html>